---
title: Mysql的查询优化
date: 2020-03-20 23:30:39
categories:
- MySQL
tags:
- 连接
---

## Mysql的执行计划生成
Mysql会计计算各种条件下产生代价，并选择代价最小的方式执行，代价主要包括两种，IO和CPU
- 根据查询条件，找出所有可能使用的索引
- 计算全表扫描的代价
  - IO代价：分页数(每页16K) * 1
  - CPU代价：记录数(估算) * 0.2
- 计算使用不同索引的代价
  - IO代价：索引扫描区间条数（估算） * 1(每个索引算一页，算回表)
  - CPU代价：索引扫描区间条数（估算） * 0.2
- 比较得出代价最小的